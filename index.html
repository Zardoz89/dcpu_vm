<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>DCPU VM by Zardoz89</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>DCPU VM</h1>
        <h2>Another DCPU-16 Virtual Machine</h2>

        <section id="downloads">
          <a href="https://github.com/Zardoz89/dcpu_vm/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/Zardoz89/dcpu_vm/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/Zardoz89/dcpu_vm" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="dcpu-vm" class="anchor" href="#dcpu-vm"><span class="octicon octicon-link"></span></a>DCPU VM</h1>

<h2>
<a name="multi-platform-dcpu-16-virtual-machine" class="anchor" href="#multi-platform-dcpu-16-virtual-machine"><span class="octicon octicon-link"></span></a>Multi-platform DCPU-16 Virtual Machine</h2>

<p>Note that this VM is aimed to implement and test some of the proposed hardware devices of the <a href="http://trillek.org/" target="_blank">Trillek proyect</a>.
In addition, includes some extra tools.</p>

<p>Based on <a href="https://bitbucket.org/benedek/dcpu-16/overview" target="_blank">Benedek Vartok VM</a></p>

<h2>
<a name="compiling" class="anchor" href="#compiling"><span class="octicon octicon-link"></span></a>COMPILING</h2>

<pre><code>mkdir build
cd build
cmake ..
make
</code></pre>

<p>To doing a Release build (compiling with optimizations):</p>

<pre><code>cmake -DCMAKE_BUILD_TYPE=Release ..
</code></pre>

<p>To doing a Debug build:</p>

<pre><code>cmake -DCMAKE_BUILD_TYPE=Debug ..
</code></pre>

<p>Run make install to copy the executable to the root of the project
This project fork is created to run perfectly on windows without boost</p>

<h2>
<a name="run" class="anchor" href="#run"><span class="octicon octicon-link"></span></a>RUN</h2>

<p>Just type <strong>dcpu-vm --help</strong> to get these infos.</p>

<pre><code>dcpu-vm x.x.x
usage : dcpu-vm [-options] &lt;dcpu16-exe&gt;
--------------------------------------------------------
  options:
    -assemble (-a) : assemble before load (experimental)
    -debug (-d) : start in debug mode
            F1  : next step
            F2  : print CPU status
            F3  : reset (no need debug mode)
            F9  : ejects/insert floppy (no need debug mode)
            System + F12 : switch debug/run
    --monitor=&lt;monitor_name&gt; : use the following monitor
            1802 -&gt; Lem1802 (default) [c] (-1802)
            1803 -&gt; Lem1803 [c] (-1803)
            cgm -&gt; Colour Graphics Monitor (-cgm)
            [c] : compatible with Lem1802 0x10c programs
    -output &lt;filename&gt; (-o) : output assembled filename
    -floppy &lt;filename&gt; (-fd) : floppy image file
    -time (-t) : use timed emulation (else refresh based)
    -vsync (-v) : use vertical synchronization
                    (more accurate but may bug)
</code></pre>

<p>There is a debug/step mode activate/deactivate with <strong>System+F12</strong>:</p>

<ul>
<li>
<strong>F1</strong> : Single step (print the current instruction on the console)</li>
<li>
<strong>F2</strong> : Print registers states into console</li>
</ul><p>Avaliable shortcuts alltime: </p>

<ul>
<li>
<strong>F3</strong> : Reset the DCPU</li>
<li>
<strong>F9</strong> : Ejects/Inserts a floppy</li>
<li>
<strong>System+F12</strong> : Activate/Deactivate debug mode. Note that System is Windows/Apple/Super key</li>
</ul><h2>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>TODO</h2>

<ul>
<li>Finnish CGM code and create a 8x8 font</li>
<li>Set a way of how configure what devices will be used in the machine</li>
<li>Several optimizations on rendering monitor loops</li>
<li>Rename variables/namespaces with a convention -&gt; Apply code convention of Trillek proyect more strictly.</li>
<li>More options to Debug mode</li>
<li>DCPU manager and separated graphic rendering threads</li>
<li>Correct bad English :P</li>
</ul><h1>
<a name="tools" class="anchor" href="#tools"><span class="octicon octicon-link"></span></a>TOOLS</h1>

<h2>
<a name="pbm2font" class="anchor" href="#pbm2font"><span class="octicon octicon-link"></span></a>PBM2FONT</h2>

<p>PBM2FONT is a small tool to create LEM180x and CGM 1084 fonts. It uses a ASCII <strong>PBM</strong> image file to create the HEX data values that represents the font.</p>

<h3>
<a name="run-1" class="anchor" href="#run-1"><span class="octicon octicon-link"></span></a>RUN</h3>

<p>Just type <strong>pbm2font --help</strong> to get these infos.</p>

<pre><code>usage : pbm2font [-options] &lt;input-file&gt;
--------------------------------------------------------
  options:
    -output &lt;filename&gt; (-o) : output filename
    -charset=&lt;charset_type&gt; : use the following charset type
            4x8 -&gt; Generates 4x8 font charset
            8x8 -&gt; Generates 8x8 font charset
    -format=&lt;output_format&gt; : use the following format
            dat -&gt; Uses universal .dat output format
            hex_dump -&gt; Generates a hexadecimal dump
            By defaults, the ouput format is "dat" and the charset is 4x8
</code></pre>

<p>If isn't choosed a output file, then output to the standard out.</p>

<h3>
<a name="how-works" class="anchor" href="#how-works"><span class="octicon octicon-link"></span></a>HOW WORKS</h3>

<p>PBM2FONT reads the PBM file, and makes a grid of 4x8, or 8x8 cells. Each cell it's converted to the appropriate format for 4x8 or 8x8 fonts. So to generate a font, you only need to use a graphics editor program that outputs ASCII PBM files (for example The Gimp), and set a grid of 4x8 or 8x8. Then you only need to draw in B&amp;W each character and save the file. </p>

<p><img src="https://raw.github.com/Zardoz89/dcpu_vm/gh-pages/images/gimp_font.png" alt="Creating a font with The Gimp"></p>
      </section>
    </div>

    
  </body>
</html>